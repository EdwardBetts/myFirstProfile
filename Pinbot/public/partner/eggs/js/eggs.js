jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeInCubic:function(e,t,i,g,r){return g*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,g,r){return g*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,g,r){return(t/=r/2)<1?g/2*t*t*t+i:g/2*((t-=2)*t*t+2)+i}}),$.Eggs=function(e,t){if(e){var i=function(e){return new i.prototype.init(e)};return i.prototype={debug:!1,constructor:i,eggCookieName:this.debug?"isShowEggNewDebug":"isShowEggNew",countDayByDayTime:function(e){var i=function(e){var i;return i=e!=t&&("string"==typeof e||"number"==typeof e)?new Date(e):new Date,{y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:0,i:0,s:0}},g=i(),r=new Date(g.y,g.m-1,g.d+e,g.h,g.i,g.s);return r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+" 00:00:00"},getTimeStamp:function(e){var t=new Date;return("string"==typeof e||"number"==typeof e)&&(t=new Date(e)),Math.round(t/1e3)},getTimeStampM:function(e){var t=new Date;return"string"==typeof e?(e=e.trim(),t=e.match(/^([0-9]{4})\-([0-9]{1,2})\-([0-9]{1,2}) ([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})$/i)?new Date(RegExp.$1,parseInt(RegExp.$2)-1,RegExp.$3,RegExp.$4,RegExp.$5,RegExp.$6):e.match(/^([0-9]{4})\-([0-9]{1,2})\-([0-9]{1,2})/i)?new Date(RegExp.$1,parseInt(RegExp.$2)-1,RegExp.$3):new Date(e)):"number"==typeof e&&(t=new Date(e)),t.getTime()},setCookieToday:function(e,t){var i=this.countDayByDayTime(1),g=new Date,r=this.getTimeStampM(i);g.setTime(r),document.cookie=e+"="+t+";expires="+g.toUTCString()+";path=/;"},setCookie:function(e,i,g){var r=g!=t&&"number"==typeof g?864e5*parseInt(g):864e5,o=new Date;o.setTime(o.getTime()+r),document.cookie=e+"="+i+";expires="+o.toUTCString()+";path=/;"},delCookie:function(e){var t=new Date;t.setTime(t.getTime()-86400),document.cookie=e+"=;expires="+t.toUTCString()+";path=/;"},getCookie:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^; ]*)(;|$)");return t?t[2]:null},init:function(t){this.setting=e.extend({reqUrl:" /activity/find_egg/",reqCloseUrl:"/activity/close_easter/",reqLogUrl:"/activity/user_need/",selector:".eggs",eggPopupSelector:"#JS_egg",eggSelector:"#JS_drop_egg",popupSelector:"#JS_egg",closeSelector:".close",randomImg:"",eggLeftPadding:"",giftName:"",giftType:"",giftImgSelector:"",giftWordSelector:"",realGift:{jd_shopping_card_50:{imgUrl:"/static/partner/eggs/img/JD.gif",word:"50元京东购物卡"},christmas_cake:{imgUrl:"/static/partner/eggs/img/snow.gif?t=151211",word:"圣诞玛德琳蛋糕礼盒"},starbuck:{imgUrl:"/static/partner/eggs/img/starbuck.gif",word:"Starbucks星礼卡"},mask:{imgUrl:"/static/partner/eggs/img/Masks.gif",word:"3M防霾口罩"},pillow:{imgUrl:"/static/partner/eggs/img/pillow.gif",word:"聘宝多功能抱枕"},pinbot_note:{imgUrl:"/static/partner/eggs/img/notebook.gif",word:"限量版聘宝江湖纪念本"},hongbao_1:{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"1元微信红包"},hongbao_3:{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"3元微信红包"},"hongbao_3.8":{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"3.8元微信红包"},hongbao_5:{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"5元微信红包"},hongbao_8:{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"8元微信红包"},hongbao_38:{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"38元微信红包"},hongbao_48:{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"48元微信红包"},hongbao_58:{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"58元微信红包"},hongbao_68:{imgUrl:"/static/partner/eggs/img/hongbao.gif",word:"68元微信红包"},apple:{imgUrl:"/static/partner/eggs/img/apple.gif",word:"精品红富士苹果礼盒"},kiwi:{imgUrl:"/static/partner/eggs/img/kiwi.gif",word:"意大利绿奇异果礼盒"},lemon:{imgUrl:"/static/partner/eggs/img/lemon.gif",word:"进口尤立克柠檬礼盒"},orange:{imgUrl:"/static/partner/eggs/img/orange.gif",word:"美国新奇士脐橙礼盒"},xiaweiyiguo:{imgUrl:"/static/partner/eggs/img/xiaweiyiguo.gif",word:"夏威夷果坚果1份"},bigenguo:{imgUrl:"/static/partner/eggs/img/bigenguo.gif",word:"碧根果坚果1份"},badanmu:{imgUrl:"/static/partner/eggs/img/badanmu.gif",word:"巴旦木坚果1份"},book1:{imgUrl:"/static/partner/eggs/img/book1.gif",word:"《招聘面试新法》1本"},book2:{imgUrl:"/static/partner/eggs/img/book2.gif",word:"《拆掉思维的墙》1本"}},unrealGift:{pinot_point_10:{imgUrl:"/static/partner/eggs/img/10pindian.gif",word:"10聘点"},smile:{imgUrl:"/static/partner/eggs/img/smile.gif",word:"差一点就砸到奖品啦！"},cup:{imgUrl:"/static/partner/eggs/img/Trophy.gif",word:"奖你一个水晶杯，最佳HR的荣耀一定非你莫属。"},black_card:{imgUrl:"/static/partner/eggs/img/card.gif",word:"获得一张“百约百中”黑卡，大牛从此不再难约。"},medicine:{imgUrl:"/static/partner/eggs/img/Drug.gif",word:"送你一瓶速效招人胶囊，按需服用效果更佳。"},new_year_xin:{imgUrl:"/static/partner/eggs/img/xin.gif",word:"【新】"},new_year_nian:{imgUrl:"/static/partner/eggs/img/nian.gif",word:"【年】"},new_year_kuai:{imgUrl:"/static/partner/eggs/img/kuai.gif",word:"【快】"},new_year_le:{imgUrl:"/static/partner/eggs/img/le.gif",word:"【乐】"}}},t),this.debug?this.randomImg():null===this.getCookie(this.eggCookieName)&&this.randomImg(),window.__Eggs=this},queryBonus:function(){var t=this,i=this.setting;this.setPos;e.ajax({type:"get",dataType:"json",url:i.reqUrl,success:function(i){t.setCookieToday(t.eggCookieName,1,1),e(".egg-click-btn").html("砸开看看"),i.status.match(/^(ok|unbind|redpack_send_fail|redpack_send_success)$/i)?t.showBonus(i):t.showBonus(i,"smile",0)},error:function(i){t.setCookieToday(t.eggCookieName,1,1),e(".egg-click-btn").html("砸开看看"),console.log(i),t.showBonus(i,"smile",0)}})},showBonus:function(i,g,r){var o=this,a=this.setting;this.setPos;switch(a.giftName=g!=t&&"string"==typeof g?g:i.gift,a.giftType=r!=t&&"string"==typeof r?r:i.gift_type,"pinot_point_10"==i.gift&&(a.giftType=0),a.gift_id=i.gift_id,"ok"===i.status&&i.gift.match(/^new_year_/i)&&(a.giftType=1),a.giftType===t&&(a.giftType=0),window.__Eggs.bindCloseEvent(),a.giftType){case 0:a.popupSelector="#JS_unreal",a.giftImgSelector="#JS_unreal_img",a.giftWordSelector="#JS_unreal_word";break;case 1:a.popupSelector="#JS_real",a.giftImgSelector="#JS_real_img",a.giftWordSelector="#JS_real_word"}if(e(".eggs-popup").css("top","-100px"),e(a.eggPopupSelector).hide(),1==a.giftType){var n=parseInt(e(a.popupSelector).css("top"));n-=50,e(a.popupSelector).css("top",n+"px")}e(a.popupSelector).show(),window.__Eggs.setHtml();var s="/static/partner/eggs/img/ass_code.jpg";e("#JS_real .gift-title-more").html();e("#JS_real img.code-img").attr("src",s),a.giftName.match(/^hongbao_/i)?"unbind"==i.status?(e("#JS_real img.code-img").attr("src","/hr/qrcode_redpack/"),e("#JS_real p.barcode-info-more").html("您还未绑定聘宝服务号，请您扫码绑定后"),e("#JS_real p.get-gift-desc-more").html('红包将通过微信<span class="c44b5e8">聘宝招聘版</span>服务号自动完成发放！'),e("#JS_real .gift-title-more").html("<br>")):"redpack_send_fail"==i.status?(e("#JS_real p.barcode-info-more").html('<span class="cf46c62">红包发放失败！</span><br>请拍下此弹窗（或截图）'),e("#JS_real p.get-gift-desc-more").html("扫码加聘宝小助手并发送图片领奖"),e("#JS_real .gift-title-more").html("")):"redpack_send_success"==i.status&&(e("#JS_real p.barcode-info-more").html('红包已发送至<span class="c44b5e8">聘宝招聘版</span>服务号！'),e("#JS_real p.get-gift-desc-more").html("关注聘宝小助手 更多好玩的活动进行中"),e("#JS_real .gift-title-more").html("<br>")):1==a.giftType&&(e("#JS_real p.barcode-info-more").html('请至<a href="/users/profile/#person-info" class="c44b5e8" target="_blank">个人设置</a>确认您的收货地址，没有地址无法领奖'),e("#JS_real p.get-gift-desc-more").html("<br>"),e("#JS_real .gift-title-more").html("<br>"),e("#JS_real .img-p").html('小助手会在<span class="cf46c62">每周五</span>统一邮寄<br>本周所有中奖并确认地址的实物奖品<br>请耐心等待'),e("#JS_real .footer-p").html('<a href="javascript:void(0);" class="egg-btn egg-btn-red goto-want">我想要</a> <a href="javascript:void(0);" class="egg-btn egg-btn-blue goto-deny">我不想要</a>'),e("#JS_real").undelegate(".goto-want").delegate(".goto-want","click",function(t){e(this).removeClass("goto-want"),e(this).removeClass("egg-btn-red"),e(this).addClass("egg-btn-dark-blue"),e(this).addClass("goto-confirm"),e(this).text("去确认地址"),e.ajax({type:"post",dataType:"json",data:JSON.stringify({gift_id:a.gift_id,need_status:1}),headers:{"X-CSRFToken":o.getCookie("csrftoken"),"Content-Type":"application/json"},url:o.setting.reqLogUrl,success:function(e){},error:function(e){console.log(e)}}),e("#JS_real").undelegate(".goto-confirm").delegate(".goto-confirm","click",function(t){document.location.href="/users/profile/#person-info",e(a.selector).hide()})}),e("#JS_real").undelegate(".goto-deny").delegate(".goto-deny","click",function(t){e.ajax({type:"post",dataType:"json",data:JSON.stringify({gift_id:a.gift_id,need_status:0}),headers:{"X-CSRFToken":o.getCookie("csrftoken"),"Content-Type":"application/json"},url:o.setting.reqLogUrl,success:function(e){},error:function(e){console.log(e)}}),e(a.selector).hide()})),window.__Eggs.bindCloseEvent(),e(".eggs-layer").show(),window.__Eggs.setPos()},closeEgg:function(){var t=this;e.ajax({type:"get",dataType:"json",url:t.setting.reqCloseUrl,success:function(e){"ok"===e.status&&t.setCookieToday(t.eggCookieName,1,1)},error:function(e){console.log(e)}})},loadImage:function(t){var i=function(e){function i(){r(),e.resolve(o)}function g(){r(),e.reject(o)}function r(){o.onload=null,o.onerror=null,o.onabort=null}var o=new Image;o.onload=i,o.onerror=g,o.onabort=g,o.src=t};return e.Deferred(i).promise()},waitSeconds:function(){var e=jQuery.Deferred(),t=1e3*Math.ceil(3*Math.random());return setTimeout(function(){e.resolve()},t),e.promise()},countDayByDay:function(e){var i=function(e){var i;return i=e!=t&&("string"==typeof e||"number"==typeof e)?new Date(e):new Date,{y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds()}},g=i(),r=new Date(g.y,g.m-1,g.d+e,g.h,g.i,g.s);return r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()},getDay:function(e){if("string"==typeof e&&e.match(/^([0-9]{4})\-([0-9]{1,2})\-([0-9]{1,2})/i)){var t=parseInt(RegExp.$1),i=parseInt(RegExp.$2),g=parseInt(RegExp.$3);return t+"-"+i+"-"+g}return""},randomImg:function(){var t=this,i=this.setting,g=(this.getDay("2015-12-14"),this.getDay("2015-12-19"),this.getDay("2015-12-20")),r=this.getDay("2015-12-25"),o=this.getDay("2016-1-4"),a=this.getDay("2016-1-25"),n=Math.ceil(10*Math.random());if(this.countDayByDay(0)>=g&&this.countDayByDay(0)<=r)i.randomImg="/static/partner/eggs/img/s4_140_c.png",i.eggLeftPadding="35%";else if(this.countDayByDay(0)>=o&&this.countDayByDay(0)<=a)i.randomImg="/static/partner/eggs/img/s6_140_c.png",i.eggLeftPadding="35%";else switch(n){case 1:i.randomImg="/static/partner/eggs/img/L2_220_c.png",i.eggLeftPadding="25%";break;case 2:i.randomImg="/static/partner/eggs/img/m1_140_c.png",i.eggLeftPadding="35%";break;case 3:i.randomImg="/static/partner/eggs/img/m2_140_c.png",i.eggLeftPadding="35%";break;case 4:i.randomImg="/static/partner/eggs/img/m3_140_c.png",i.eggLeftPadding="35%";break;case 5:i.randomImg="/static/partner/eggs/img/m4_140_c.png",i.eggLeftPadding="35%";break;case 6:i.randomImg="/static/partner/eggs/img/s1_100_c.png",i.eggLeftPadding="40%";break;case 7:i.randomImg="/static/partner/eggs/img/s2_100_c.png",i.eggLeftPadding="40%";break;case 8:i.randomImg="/static/partner/eggs/img/s3_100_c.png",i.eggLeftPadding="40%";break;case 9:i.randomImg="/static/partner/eggs/img/L1_220_c.png",i.eggLeftPadding="25%";break;default:i.randomImg="/static/partner/eggs/img/s1_100_c.png",i.eggLeftPadding="40%"}var s=i.randomImg,c=s,l=s,t=this,p=this.loadImage(i.randomImg);p.then(function(g){return e(i.eggSelector).attr("src",i.randomImg),t.loadImage(c)}).then(function(e){return t.loadImage(l)}).then(function(e){return t.loadImage(l)}).done(function(e){var i=t.waitSeconds();i.then(function(){window.__Eggs.animation()})})},hideModalList:"",chkOtherModals:function(){return e(".black-bg").length&&"block"==e(".black-bg").css("display")?("block"==e(".js-task-tip-contain").css("display")?this.hideModalList=".js-task-tip-contain":"block"==e(".task-close-tip").css("display")?this.hideModalList=".task-close-tip":"block"==e("#js-task-content").css("display")?this.hideModalList="#js-task-content":"block"==e("#js-reward-content").css("display")&&(this.hideModalList="#js-reward-content"),!0):!1},showOtherModals:function(){"string"==typeof this.hideModalList&&""!=this.hideModalList&&e(this.hideModalList).show()},hideOtherModals:function(){"string"==typeof this.hideModalList&&""!=this.hideModalList&&e(this.hideModalList).hide()},animation:function(){var t=this,i=this.setting;t.chkOtherModals()&&t.hideOtherModals(),e(i.selector).show(),e(i.eggPopupSelector).show();var g=(e(i.eggSelector),i.randomImg),r=(e(i.popupSelector),(e(window).height()-e("#JS_egg").height())/2+70+"px");e(".eggs-popup-layer").addClass("half-dark"),e(".egg-box img").css("left",i.eggLeftPadding),e("#JS_egg").animate({top:r},500,"easeInCubic"),setTimeout(function(){var t=g;e(i.eggSelector).attr("src",t)},1e3),t.bindCloseEvent(),e(".egg-close").on("click",function(){t.showOtherModals(),t.closeEgg()}),e(".egg-click").on("click",function(){e(".egg-click-btn").html('<img src="/static/b_common/img/loading.gif" border="0">'),t.queryBonus()})},setPos:function(){var t=this.setting;e(t.popupSelector);e("#JS_real").css({marginTop:(e(window).height()-e("#JS_real").height())/2+70+"px"}),e("#JS_unreal").css({marginTop:(e(window).height()-e("#JS_unreal").height())/2+"px"})},bindCloseEvent:function(){var t=this,i=t.setting;e(i.closeSelector).on("click",function(){e(i.selector).hide(),t.showOtherModals()})},setHtml:function(){var t=this,i=t.setting,g=e(i.giftImgSelector),r=e(i.giftWordSelector),o="2. 扫码加小助手并发送图片领奖",a="",n=!1;for(var s in i.unrealGift)if(s===i.giftName){n=!1,s.match(/^(black_card|medicine|cup|smile)$/i)?(s="smile",e(".unreal_footer").html('<span class="c607d8b">请不要灰心，明天继续努力哟！</span><br><a href="javascript:void(0);" class="egg-btn egg-btn-dark-blue close">知道了</a>')):e(".unreal_footer").html('明天还来聘宝招人，彩蛋天天有喔！<br><a href="javascript:void(0);" class="egg-btn egg-btn-dark-blue close">知道了</a>'),g.attr("src",i.unrealGift[s].imgUrl),r.html(i.unrealGift[s].word),a=s;break}for(var s in i.realGift)if(s===i.giftName){n="pinot_point_10"==s?!1:s.match(/^new_year_/i)?!0:!0,g.attr("src",i.realGift[s].imgUrl),r.html(i.realGift[s].word),a=s;break}a.match(/^(self|manual)_service_/i)?(e(".eggs-popup .blue-reel").css("padding","32px 0"),"self_service_111"==a?o='2、扫码加小助手为微信好友，把图发给小助手；<br>3、2015年内购买任意自助型套餐可<span style="color:#fff;">减免111</span>元；<br><span style="color:#fff;">4、一个套餐只能使用一张抵用券。</span>':"manual_service_500"==a?o='2、扫码加小助手为微信好友，把图发给小助手；<br>3、2015年内购买任意省心型套餐可<span style="color:#fff;">减免500</span>元；<br><span style="color:#fff;">4、一个套餐只能使用一张抵用券。</span>':"manual_service_1111"==a&&(o='2、扫码加小助手为微信好友，把图发给小助手；<br>3、2015年内购买任意省心型套餐可<span style="color:#fff;">减免1111</span>元；<br><span style="color:#fff;">4、一个套餐只能使用一张抵用券。</span>')):"pinot_point_10"==a?(e("#JS_unreal_word").html('<span class="small-title">恭喜你获得</span><span class="barcode-info-red barcode-info-gift gift-title" style="color:#f66b5d;">10聘点</span>'),e(".eggs-popup .blue-reel").css("padding","21px 0")):e(".eggs-popup .blue-reel").css("padding","32px 0"),n?e(".i-red-close").addClass("i-red-close-new"):e(".i-red-close").removeClass("i-red-close-new"),a.match(/^new_year_/i)?(e(".eggs-popup .gift-title-more").html("快与分舵伙伴凑齐“新年快乐”领取Sounder蓝牙音响！<br><br>"),e(".eggs-popup .barcode-info-more").text("1. 拍下此弹窗（或截图）凑齐 “新年快乐”"),e(".eggs-popup .get-gift-desc-more").text("2. 扫码加小助手并发送4张截图领奖")):(e(".eggs-popup .gift-title-more").html("<br><br>"),e(".eggs-popup .barcode-info-more").text("1. 拍下此弹窗（或截图）"),e(".eggs-popup .get-gift-desc-more").text("2. 扫码加小助手并发送图片领奖")),e(".eggs-popup .get-gift-desc").html(o)}},i.prototype.init.prototype=i.prototype,i}}(jQuery),$(function(){$.Eggs()});