$.getMonth=function(t,e){for(var a="",t=t||"option",o=1;13>o;o++){var r=o;10>o&&(r="0"+o),a+="option"==t?'<option value="'+o+'" '+(o==e?"selected":"")+">"+r+"</option>":"<li><a "+(o==e?'class="active':"")+">"+r+"</a></li>"}return a},$.getYear=function(t,e){for(var a=(new Date).getFullYear(),o="",t=t||"option",r=a;r>1949;r--)o+="option"==t?'<option value="'+r+'" '+(r==e?"selected":"")+">"+r+"</option>":"<li><a "+(r==e?'class="active':"")+">"+r+"</a></li>";return o};var formalVerify=function(t){var e=!0,a=t.find(".input[data-equired]"),o=t.find("select[data-equired]"),r=t.find(".textarea[data-equired]"),i=function(t,a){for(var o=0,r=t.length;r>o;o++){var i=t.eq(o),n=i.val(),l=i.attr("data-reg"),s=i.attr("placeholder");regs[l].test(n)&&n!=s?"select"==i[0].tagName.toLowerCase()?i.siblings(".button").removeClass("tip-error"):i.removeClass("tip-error"):("select"==i[0].tagName.toLowerCase()?i.siblings(".button").addClass("tip-error"):i.addClass("tip-error"),e=!1)}};return i(a),i(o),i(r),e};!function(t,e){t("[placeholder]").each(function(){var e=t(this),a=e.attr("placeholder");!e.val()&&e.attr("data-fixholder")&&e.val(a)})}(jQuery);var regs={isNull:/\S/,email:/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,number:/^\d+$/,price:/^(\d+|\d+.{0,1}\d+)$/};$(function(){$(document).on("focus","[data-fixholder]",function(){var t=$(this),e=t.val(),a=t.attr("placeholder");e==a&&t.val("")}),$(document).on("blur","[data-fixholder]",function(){var t=$(this),e=t.val(),a=t.attr("placeholder");""!=e||t.hasClass("data-fixholder")||t.val(a)}),$(document).on("click","[data-toggle]",function(t){t=t||window.event;var e=$(this);return e.closest(".drop-select").attr("disabled")?!1:($(".button.open").removeClass("open").siblings(".drop-box").hide(),e.toggleClass("open").siblings(".drop-box").toggle(),void(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0))}),$(document).on("click",document,function(t){var e=function(t,e){t.each(function(){$(this).removeClass(e).siblings(".drop-box").hide()})},a=$(".button.open");a.length&&e(a,"open")}),$(document).on("click",".drop-down li",function(){var t=$(this),e=t.index(),a=t.text(),o=t.parent().parent().siblings("button"),r=t.closest(".drop-box").siblings(".button"),i=t.closest(".saved");if(i.length){var n=o.text();n!=a&&i.removeClass("saved").find(".JS_save_someone").show().end().find(".disabled").hide()}0!=e&&r.removeClass("tip-error");var l=t.closest("td").find(".nowMonth"),s=l.closest(".drop-select");t.hasClass("now")?(l.show().click(),s.attr("disabled",!0)):s.attr("disabled")&&(l.hide(),s.removeAttr("disabled").find("li:first").click()),t.find("a").addClass("active").end().siblings().find("a").removeClass("active"),o.html(a+'<i class="i-barr"></i>').siblings("select").find("option").eq(e).prop("selected",!0)}),$(document).on("keyup","input[data-ajax]",function(){var t=$(this),e=t.val();return e?void t.siblings(".drop-box").show():(t.siblings(".drop-box").hide(),void $('div[data-caller="'+t.attr("data-call")+'"]').remove())}),$(document).on("click",".drop-ajaxdown li",function(){var t=$(this),e=t.text(),a=t.parent().parent().hide().siblings("input[data-ajax]"),o=a.offset();a.val(e);var r=$('<div class="error" data-caller="'+a.attr("data-call")+'">输入无效城市!</div>');r.css({top:o.top-10+"px",left:o.left+"px"}),$("body").append(r)}),$(document).on("keyup","textarea[data-lengthlimit]",function(){var t=$(this),e=t.val(),a=e.length,o=parseInt(t.attr("data-lengthlimit"))||100,r=t.siblings(".limit-count").find("span").eq(0);a>=o?(t.val(e.substring(0,o)),r.text("0")):r.text(o-a),e.length>0?r.css("color","red"):r.css("color","#999")}),$(document).on("keyup","textarea[data-lenlimit]",function(){var t=$(this),e=t.val(),a=e.length,o=parseInt(t.attr("data-lenlimit"))||100;a&&o>=a&&t.removeClass("tip-error")}),$(document).on("blur","[data-equired]",function(){var t=$(this),e=t.attr("data-reg"),a=$.trim(t.val()),o=t.attr("placeholder");regs[e].test(a)&&a!=o?t.removeClass("tip-error"):t.addClass("tip-error")}),$(document).on("blur","[data-notequired]",function(){var t=$(this),e=t.attr("data-reg"),a=$.trim(t.val()),o=t.attr("placeholder");a&&!regs[e].test(a)||a==o?t.addClass("tip-error"):t.removeClass("tip-error")})});