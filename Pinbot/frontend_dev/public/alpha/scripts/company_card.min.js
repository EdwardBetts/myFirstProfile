$.CompanyInfo=function(a){return new $.CompanyInfo.prototype.init(a)},$.CompanyInfo.prototype={constructor:$.CompanyInfo,init:function(a){this.setting=$.extend({style:window.infos&&window.infos.company&&window.infos.company.key_points?"info":"edit"},a),window.$_companyInfo=this,this.appendContent(this.getHtml())},getHtml:function(a){a=a||window.$_companyInfo.setting.style;var b="",c=window.infos&&window.infos.company?window.infos.company:!1,d=c&&c.company_name?c.company_name:"",e=c&&c.key_points?c.key_points:"",f=c&&c.desc?c.desc:"",g=c&&c.company_stage?c.company_stage:"",h=c&&c.product_url?c.product_url:"",i=infos&&infos.all_company_category?infos.all_company_category:[],j=function(a,b){for(var c="",d=0,e=a.length;e>d;d++){var f=a[d],g=f.id,h=f.category,i=f.select;b?c+='<a data-id="'+g+'" class="area'+(i?" select":"")+'">'+h+"</a>":i&&(c+='<a data-id="'+g+'" class="area">'+h+"</a>")}return c};return"edit"==a?(b+='<div class="company-card-insert"><form action="" accept-charset="utf-8"><div class="insert-notice">\u5b8c\u5584\u4f01\u4e1a\u540d\u7247\uff0c\u5e76\u5728\u4e0b\u8f7d\u7b80\u5386\u65f6\u9009\u62e9\u5c06\u4f01\u4e1a\u540d\u7247\u53d1\u9001\u7ed9\u5019\u9009\u4eba\uff0c\u90a3\u4e48\u6b64\u6b21\u7b80\u5386\u4e0b\u8f7d\uff0c\u6211\u4eec\u5c06\u4ec5\u6263\u9664\u60a83\u4e2a\u8058\u5b9d\u70b9\u6570\uff0c\u82e5\u5019\u9009\u4eba\u901a\u8fc7\u90ae\u4ef6\u53cd\u9988\u5bf9\u60a8\u53d1\u5e03\u7684\u804c\u4f4d\u611f\u5174\u8da3\uff0c\u6211\u4eec\u518d\u6263\u9664\u60a8\u4f59\u4e0b9\u4e2a\u8058\u5b9d\u70b9\u6570\uff0c\u82e5\u6c42\u804c\u8005\u5bf9\u60a8\u53d1\u5e03\u7684\u804c\u4f4d\u4e0d\u611f\u5174\u8da3\uff0c\u5c06\u4e0d\u518d\u6263\u9664\u60a8\u7684\u8058\u5b9d\u70b9\u6570\uff01</div><table class="table company-table" width="100%" cellpadding="0" cellspacing="0"><tr><th><span class="required">\u4f01\u4e1a\u540d\u79f0</span></th><td><input type="text" name="company_name" value="'+d+'" class="input w526" data-equired data-reg="isNull"></td></tr><tr><th><span class="required">\u4f01\u4e1a\u4eae\u70b9</span></th><td><textarea class="textarea w540" placeholder="\u8bf7\u5c3d\u91cf\u7cbe\u7b80\u6587\u5b57\uff0c\u5e76\u9002\u5f53\u4f7f\u7528\u6362\u884c\uff0c\u4fbf\u4e8e\u5019\u9009\u4eba\u9605\u8bfb\u54e6\uff08140\u5b57\u4ee5\u5185\uff09" name="key_points" maxLength="140" data-lenlimit="140" rows="5" data-equired data-reg="isNull">'+e+'</textarea></td></tr><tr><th><span class="required">\u4f01\u4e1a\u7b80\u4ecb</span></th><td><textarea class="textarea w540" placeholder="\u8bf7\u5c3d\u91cf\u7cbe\u7b80\u6587\u5b57\uff0c\u5e76\u9002\u5f53\u4f7f\u7528\u6362\u884c\uff0c\u4fbf\u4e8e\u5019\u9009\u4eba\u9605\u8bfb\u54e6\uff08300\u5b57\u4ee5\u5185\uff09" name="desc" maxLength="300" data-lenlimit="300" rows="5">'+f+'</textarea></td></tr><tr><th><span class="required">\u4f01\u4e1a\u53d1\u5c55\u9636\u6bb5</span></th><td><input type="text" name="company_stage" value="'+g+'" class="input w526" data-equired data-reg="isNull"></td></tr><tr><th>\u7f51\u5740</th><td><input type="text" name="product_url" value="'+h+'" class="input w526"></td></tr><tr><th><span class="required">\u6240\u5728\u9886\u57df</span><br><span class="orange">(\u53ef\u90093\u4e2a)</span></th><td><div class="area-panel clearfix" id="JS_choose_area">'+j(i,!0)+'</div></td></tr></table><div class="company-submition text-center">',b+=window.infos.show_mission?'<a href="javascript:;" title="\u4fdd\u5b58" class="btn btn-large btn-primary" id="JS_save_company">\u4fdd\u5b58\u5e76\u65b0\u5efa\u5b9a\u5236</a>':'<a href="javascript:;" title="\u4fdd\u5b58" class="btn btn-large btn-primary" id="JS_save_company">\u4fdd \u5b58</a>',d&&(b+='<a href="javascript:;" title="\u53d6\u6d88" class="a-blue ml10" id="JS_cancel_edit">\u53d6\u6d88</a>'),window.infos.show_mission&&(b+='<p style="color: #666666; line-height:25px; padding-top:10px;"><span class="red simsun">*</span>\u5b8c\u6210\u7b2c\u4e00\u4e2a\u4e13\u5c5e\u5b9a\u5236\u63d0\u4ea4\uff0c\u9886\u53d6<span style="color:#ff6600;">\u7ea2\u5305</span><i class="i-envelope"></i></p>'),b+="</div></form></div>"):(f=f?f:"\u6682\u65e0",h=h?h:"",b+='<div class="company-card-show"><h3 class="card-title">'+d+'</h3><ul class="card-details"><li class="clearfix"><strong>\u4f01\u4e1a\u4eae\u70b9</strong><p>'+e+'</p></li><li class="clearfix"><strong>\u4f01\u4e1a\u7b80\u4ecb</strong><p>'+f+'</p></li><li class="clearfix"><strong>\u53d1\u5c55\u9636\u6bb5</strong><p>'+g+'</p></li><li class="clearfix"><strong>\u7f51\u5740</strong>',b+=h?'<p><a href="'+h+'" title="" target="_blank" class="a-blue">'+h+"</a></p>":"<p>\u6682\u65e0</p>",b+='</li><li class="clearfix" style="background-position:31px 13px;"><strong style="margin-top: 4px;">\u6240\u5728\u9886\u57df</strong><div class="clearfix view">'+j(i)+'</div></li></ul><p class="text-right"><a href="javascript:;" title="\u4fee\u6539" class="button-default" id="JS_edit_company_info">\u4fee\u6539</a></p></div>'),b},saveCompanyAjax:function(a){var b="/companycard/company/save/",c=this,d=function(){for(var b=a.category,c=window.infos.all_company_category,d=[],e=0,f=c.length;f>e;e++){var g=c[e];g.select=!1;for(var h=0,i=b.length;i>h;h++){var j=b[h];j==g.id&&(g.select=!0)}d.push(g)}window.infos.all_company_category=d};$.post(b,JSON.stringify(a),function(b){if(b&&"ok"==b.status){if(window.infos&&window.infos.show_mission&&b.redirect_url)return void(location.href=b.redirect_url);window.infos&&window.infos.company&&window.infos.company.key_points||c.showAddJob(),d(),window.infos.company=a,window.$_companyInfo.saveAfter()}else b&&b.msg?$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>'+b.msg+"</p>"):$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u518d\u8bd5\uff01</p>')},"json")},showAddJob:function(){var a=function(){$._intentionCard?($._intentionCard.addJob(),$("#JS_add_job").click()):setTimeout(a,100)};a()},saveAfter:function(){window.$_companyInfo.appendContent(window.$_companyInfo.getHtml("info"))},appendContent:function(a){$("#JS_company_info").html(a)}},$.CompanyInfo.prototype.init.prototype=$.CompanyInfo.prototype,$.intentionCard=function(a){return new $.intentionCard.prototype.init(a)},$.intentionCard.prototype={constructor:$.intentionCard,init:function(a){this.setting=$.extend({list:[],allowSend:!1,synOnly:!1,contentDom:"#JS_jobs_list",callback:null},a),$._intentionCard=this,this.appendList(this.getList()),window.infos&&window.infos.company&&window.infos.company.key_points&&!this.setting.allowSend&&(!window.infos.jobs||$.isEmptyObject(infos.jobs))&&this.addJob(),"function"==typeof this.setting.callback&&this.setting.callback()},templates:function(a,b){var c="",d=window.infos&&window.infos.company&&window.infos.company.company_name?window.infos.company.company_name:"",e="",f="",g="",h="",i="",j="",k={0:"\u4e0d\u9650",1:"\u4e00\u5e74\u4ee5\u4e0a",3:"\u4e09\u5e74\u4ee5\u4e0a",5:"\u4e94\u5e74\u4ee5\u4e0a"},l="",m="",n="",o={0:"\u4e0d\u9650",3:"\u4e13\u79d1",4:"\u672c\u79d1",7:"\u7855\u58eb",10:"\u535a\u58eb"};switch(b&&(f=b.id,e=b.title,g=+b.salary_low/1e3,h=+b.salary_high/1e3,i=b.address,j=b.work_years,l=b.degree,m=b.desc,n=b.skill_desc),a){case"new":c+='<div class="job-panel"><div class="border"></div><div class="job-info"><a href="javascript:;" title="\u65b0\u589e\u5c97\u4f4d" class="add-job-btn" id="JS_add_job">\u65b0\u589e\u5c97\u4f4d</a></div></div>';break;case"edit":m="\u6682\u65e0"==m?"":m,n="\u6682\u65e0"==n?"":n,c+='<div class="job-panel"><div class="border"></div><div class="job-info"><h3 class="card-title arr">'+d+'</h3><div class="job-details"><form action="" method="get" accept-charset="utf-8"><table class="table company-table job-table" width="100%" cellpadding="0" cellspacing="0"><tr><th><span class="red simsun">*</span>\u804c\u4f4d\u540d\u79f0</th><td><input type="text" name="title" value="'+e+'" class="input w220" data-equired data-reg="isNull"></td></tr><tr><th><span class="red simsun">*</span>\u85aa\u8d44\u8303\u56f4</th><td><input type="text" name="salary_low" value="'+g+'" class="input w70 inline" data-equired data-reg="price"> K&nbsp;&nbsp;-&nbsp;&nbsp;<input type="text" name="salary_high" value="'+h+'" class="input w70 inline" data-equired data-reg="price"> K</td></tr><tr><th><span class="red simsun">*</span>\u5de5\u4f5c\u5730\u70b9</th><td><input type="text" name="address" value="'+i+'" class="input w220" data-equired data-reg="isNull"></td></tr><tr><th><span class="red simsun">*</span>\u6700\u4f4e\u5de5\u4f5c\u5e74\u9650</th><td><div class="drop-select left w246" style="*z-index:190"><button class="button" type="button" data-toggle="dropdown">'+(j?k[j]:"\u4e0d\u9650")+'<i class="i-barr"></i></button><div class="drop-box"><ul class="drop-down"><li><a '+("0"==j?'class="active"':"")+">\u4e0d\u9650</a></li><li><a "+("1"==j?'class="active"':"")+">\u4e00\u5e74\u4ee5\u4e0a</a></li><li><a "+("3"==j?'class="active"':"")+">\u4e09\u5e74\u4ee5\u4e0a</a></li><li><a "+("5"==j?'class="active"':"")+'>\u4e94\u5e74\u4ee5\u4e0a</a></li></ul></div><select name="work_years" class="JS_proficiency"><option value="0" '+("0"==j?"selected":"")+'>\u4e0d\u9650</option><option value="1" '+("1"==j?"selected":"")+'>\u4e00\u5e74\u4ee5\u4e0a</option><option value="3" '+("3"==j?"selected":"")+'>\u4e09\u5e74\u4ee5\u4e0a</option><option value="5" '+("5"==j?"selected":"")+'>\u4e94\u5e74\u4ee5\u4e0a</option></select></div></td></tr><tr><th><span class="red simsun">*</span>\u6700\u4f4e\u5b66\u5386</th><td><div class="drop-select left w246" style="*z-index:190"><button class="button" type="button" data-toggle="dropdown">'+(l?o[l]:"\u4e0d\u9650")+'<i class="i-barr"></i></button><div class="drop-box"><ul class="drop-down"><li><a '+("0"==l?'class="active"':"")+">\u4e0d\u9650</a></li><li><a "+("3"==l?'class="active"':"")+">\u4e13\u79d1</a></li><li><a "+("4"==l?'class="active"':"")+">\u672c\u79d1</a></li><li><a "+("7"==l?'class="active"':"")+">\u7855\u58eb</a></li><li><a "+("10"==l?'class="active"':"")+'>\u535a\u58eb</a></li></ul></div><select name="degree" class="JS_proficiency"><option value="0" '+("0"==l?"selected":"")+'>\u4e0d\u9650</option><option value="3" '+("3"==l?"selected":"")+'>\u4e13\u79d1</option><option value="4" '+("4"==l?"selected":"")+'>\u672c\u79d1</option><option value="7" '+("7"==l?"selected":"")+'>\u7855\u58eb</option><option value="10" '+("10"==l?"selected":"")+'>\u535a\u58eb</option></select></div></td></tr><tr><th>\u804c\u4f4d\u63cf\u8ff0</th><td><textarea class="textarea w275" name="desc">'+m+'</textarea></td></tr><tr><th>\u5c97\u4f4d\u8981\u6c42</th><td><textarea class="textarea w275" name="skill_desc">'+n+'</textarea></td></tr></table><p class="job-handles" data-id="'+f+'"><a href="javascript:;" title="\u4fdd\u5b58" class="button-active JS_save_job">\u4fdd\u5b58</a> <a href="javascript:;" title="\u53d6\u6d88" class="button-default JS_cancel_save">\u53d6\u6d88</a></p></form></div></div></div>';break;case"info":m=""==m?"\u6682\u65e0":m,n=""==n?"\u6682\u65e0":n,c+='<div class="job-panel"><div class="border"></div><div class="job-info"><h3 class="card-title arr">'+d,this.setting.allowSend||this.setting.synOnly||(c+='<a href="javascript:;" class="i-del JS_delete_job" data-id="'+f+'"></a>'),c+='</h3><div class="job-details"><table class="table company-table job-table" width="100%" cellpadding="0" cellspacing="0"><tr><th><span class="red simsun">*</span>\u804c\u4f4d\u540d\u79f0</th><td><span>'+e+'</span></td></tr><tr><th><span class="red simsun">*</span>\u85aa\u8d44\u8303\u56f4</th><td><span>'+g+"K - "+h+'K</span></td></tr><tr><th><span class="red simsun">*</span>\u5de5\u4f5c\u5730\u70b9</th><td><span>'+i+'</span></td></tr><tr><th><span class="red simsun">*</span>\u6700\u4f4e\u5de5\u4f5c\u5e74\u9650</th><td><span>'+k[j]+'</span></td></tr><tr><th><span class="red simsun">*</span>\u6700\u4f4e\u5b66\u5386</th><td><span>'+o[l]+"</span></td></tr><tr><th>\u804c\u4f4d\u63cf\u8ff0</th><td><span>"+m+"</span></td></tr><tr><th>\u5c97\u4f4d\u8981\u6c42</th><td><span>"+n+'</span></td></tr></table><p class="job-handles mt91" data-id="'+f+'">',this.setting.allowSend&&(c+='<a href="javascript:;" title="\u53d1\u9001" class="button-default JS_send_job_to_user">\u53d1\u9001</a> '),c+=this.setting.synOnly?'<a href="javascript:;" title="\u540c\u6b65" class="button-default JS_syn_job_btn">\u540c\u6b65</a> ':'<a href="javascript:;" title="\u4fee\u6539" class="button-default JS_edit_job_btn">\u4fee\u6539</a> <a href="/companycard/job/preview/'+f+'/" title="\u9884\u89c8" class="button-default" target="_blank">\u9884\u89c8</a>',c+="</p></div></div></div>"}return c},getList:function(){var a=this.setting,b=a.list,d=(a.page,""),e={};if(!b.length)return window.infos.jobs=e,d;for(var f=0,g=b.length;g>f;f++){var h=b[f],i=h.id;d+=this.templates("info",h),e[i]=h}return window.infos.jobs=e,this.setting.allowSend||this.setting.synOnly||(d+=this.templates("new")),d},saveSuccess:function(a,b){var c=a.closest(".job-panel");c.before(this.templates("info",b)).remove(),$("#JS_add_job").length||this.setting.allowSend||$(this.setting.contentDom).append($._intentionCard.templates("new"))},jobShowEdit:function(a,b){var c=a.closest(".job-panel"),d="";d=$._intentionCard.templates("edit",window.infos.jobs[b]),c.after(d).remove()},cancelEdit:function(a,b){var c=a.closest(".job-panel"),d="";d=b?$._intentionCard.templates("info",window.infos.jobs[b]):$._intentionCard.templates("new"),c.after(d).remove()},addJob:function(){$._intentionCard.appendList($._intentionCard.templates("new"))},insertJob:function(){$._intentionCard.appendList($._intentionCard.templates("edit"))},deleteJob:function(a,b){if(b){var c="/companycard/job/delete/"+b+"/",d=function(){$.get(c,{},function(c){c&&"ok"==c.status?(a.closest(".job-panel").remove(),delete window.infos.jobs[b],$.isEmptyObject(infos.jobs)&&!$("#JS_add_job").length&&$._intentionCard.addJob()):c&&c.msg?$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>'+c.msg+"</p>"):$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u518d\u8bd5\uff01</p>')})};1==$(".JS_delete_job").length?$.confirm('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>\u60a8\u53ea\u6709\u4e00\u6761\u5c97\u4f4d\u4fe1\u606f\u4e86\uff0c\u5220\u9664\u540e\u65e0\u6cd5\u751f\u6210\u4f01\u4e1a\u540d\u7247\uff0c\u786e\u8ba4\u8981\u5220\u9664\u5417\uff1f</p>',d):d()}},appendList:function(a){$(this.setting.contentDom).html(a)}},$.intentionCard.prototype.init.prototype=$.intentionCard.prototype;var cardScroll=function(a){a=$.extend({boxDom:"#JS_jobs_ajax_content",tagClass:"job-panel",leftBtn:"#JS_left_btn",rightBtn:"#JS_right_btn",stepCount:2,present:0,step:870},a);var b=function(){a.present<=0&&(a.present=0,$(a.leftBtn).hide()),a.present>=a.len&&(a.present=a.len,$(a.rightBtn).hide()),a.present>0&&$(a.leftBtn).show(),a.present<a.len&&$(a.rightBtn).show(),$(a.boxDom).animate({left:-a.step*a.present+"px"},"slow")},c=null,d=$(a.boxDom).find("."+a.tagClass).length;d&&(c=Math.ceil(d/2),$(a.boxDom).css("width",a.step*c+"px"),a.len=c-1,0==a.len&&$(a.rightBtn).hide(),$(a.leftBtn).hide(),$(a.rightBtn).on("click",function(){a.present++,b()}),$(a.leftBtn).on("click",function(){a.present--,b()}))},chooseSynCard=function(){var a=$("#JS_syn_cards").html(),b=jobList||[],c=925;1==b.length&&(c=490),$.LayerOut({html:a,closeByShadow:!1,dialogCss:"width:"+c+"px; height:610px;"}),$.intentionCard({list:b,synOnly:!0,allowSend:!1,contentDom:"#JS_jobs_ajax_content",callback:cardScroll})};$(function(){$(document).on("click","#JS_save_company",function(){var a=$(this),b=a.closest("form"),c=b.serializeObject(),d=!0,e=$("#JS_choose_area .select");if(c.company_name||(b.find('input[name="company_name"]').addClass("tip-error"),d=!1),c.key_points&&c.key_points!=b.find('textarea[name="key_points"]').attr("placeholder")||(b.find('textarea[name="key_points"]').addClass("tip-error"),d=!1),c.company_stage||(b.find('input[name="company_stage"]').addClass("tip-error"),d=!1),b.find("[maxLength]").each(function(){var a=$(this),b=a.attr("maxLength"),c=a.val(),e="\u8bf7\u63a7\u5236\u5728"+b+"\u5b57\u4ee5\u5185\uff0c\u7cbe\u7b80\u7684\u6587\u5b57\u66f4\u4fbf\u4e8e\u5019\u9009\u4eba\u9605\u8bfb\u54e6\uff01",f=a.attr("name");return c.length>b?("key_points"==f?e="\u4f01\u4e1a\u4eae\u70b9"+e:"desc"==f&&(e="\u4f01\u4e1a\u7b80\u4ecb"+e),a.addClass("tip-error"),d=!1,$.alert(e),!1):void 0}),e.length){for(var f=[],g=0,h=e.length;h>g;g++){var i=e.eq(g);id=i.attr("data-id"),f.push(id)}c.category=f}else $.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>\u8bf7\u9009\u62e9\u6240\u5728\u9886\u57df\uff01</p>'),d=!1;return d?(c.desc==b.find('textarea[name="desc"]').attr("placeholder")&&(c.desc=""),void window.$_companyInfo.saveCompanyAjax(c)):!1}),$(document).on("click","#JS_cancel_edit",function(){window.$_companyInfo.appendContent(window.$_companyInfo.getHtml("info"))}),$(document).on("click","#JS_edit_company_info",function(){window.$_companyInfo.appendContent(window.$_companyInfo.getHtml("edit"))}),$(document).on("click","#JS_add_job",function(){$(".JS_cancel_save").click(),$(this).closest(".job-panel").before($._intentionCard.templates("edit")).remove()}),$(document).on("click",".JS_save_job",function(){if(window.sockJob)return!1;window.sockJob=!0;var a=$(this),b=a.parent().attr("data-id"),c=a.closest("form"),d=c.serializeObject(),e=!0;return d.title||(c.find('input[name="title"]').addClass("tip-error"),e=!1),d.salary_low&&regs.price.test(d.salary_low)||(c.find('input[name="salary_low"]').addClass("tip-error"),e=!1),d.salary_high&&regs.price.test(d.salary_high)||(c.find('input[name="salary_high"]').addClass("tip-error"),e=!1),+d.salary_high<=+d.salary_low&&(c.find('input[name="salary_low"]').addClass("tip-error"),c.find('input[name="salary_high"]').addClass("tip-error"),e=!1),d.work_years||(c.find('select[name="work_years"]').addClass("tip-error"),e=!1),d.address||(c.find('input[name="address"]').addClass("tip-error"),e=!1),d.degree||(c.find('select[name="degree"]').siblings("button").addClass("tip-error"),e=!1),e?(b&&(d.id=b),d.salary_high=1e3*+d.salary_high,d.salary_low=1e3*+d.salary_low,void $.post("/companycard/job/save/",JSON.stringify(d),function(b){b&&"ok"==b.status?(d.id||(d.id=b.id),window.infos.jobs[b.id]=d,window.$._intentionCard.saveSuccess(a,d)):b&&b.msg?$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>'+b.msg+"</p>"):$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u518d\u8bd5\uff01</p>'),window.sockJob=!1},"json").fail(function(){window.sockJob=!1})):(window.sockJob=!1,!1)}),$(document).on("click",".JS_cancel_save",function(){var a=$(this),b=a.parent().attr("data-id");window.$._intentionCard.cancelEdit(a,b)}),$(document).on("click",".JS_edit_job_btn",function(){var a=$(this),b=a.parent().attr("data-id");$(".JS_cancel_save").click(),window.$._intentionCard.jobShowEdit(a,b)}),$(document).on("click",".JS_delete_job",function(){var a=$(this),b=a.attr("data-id");window.$._intentionCard.deleteJob(a,b)}),$(document).on("click",".JS_send_job_to_user",function(){var a="/companycard/card/send/",b=$("#main").attr("data-resumeid"),c=$(this),d=$("#main").attr("data-feed_id"),e=c.parent().attr("data-id");return e&&b?c.attr("disabled")?!1:(c.attr("disabled",!0),void $.post(a,{feed_id:d,resume_id:b,job_id:e},function(a){c.attr("disabled",!1),a&&"ok"==a.status?$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>\u4f01\u4e1a\u540d\u7247\u53d1\u9001\u6210\u529f\uff01\u7a0d\u540e\u8bf7\u5728\u201c\u6211\u7684\u8d2d\u4e70\u201d\u4e2d\u67e5\u770b\u5019\u9009\u4eba\u7684\u53cd\u9988\u4fe1\u606f\u3002</p>',function(){location.reload()}):a&&a.msg?$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>'+a.msg+"</p>"):$.alert('<p style="text-align:center; font-size:14px; color:#333;padding:30px 0;"><i class="i-l-notice"></i>\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u518d\u8bd5\uff01</p>')},"json")):($.alert("\u7f3a\u5c11\u6570\u636e"),!1)}),$(document).on("click","#JS_syn_btn",chooseSynCard),$(document).on("click",".JS_syn_job_btn",function(){var a=$(this).closest(".job-panel"),b=a.find("tr").eq(5).find("span").html(),c=a.find("tr").eq(6).find("span").html(),d=b+"\r\n\r\n"+c;$('textarea[name="job_desc"]').val(d),$._LayerOut.close()}),$(document).on("click","#JS_choose_area a",function(){var a=$(this),b=a.hasClass("select");return $("#JS_choose_area a.select").length>=3&&!b?!1:void a.toggleClass("select")})});