$.getMonth=function(b,e){var d="",b=b||"option";for(var c=1;c<13;c++){var a=c;if(c<10){a="0"+c;}if(b=="option"){d+='<option value="'+c+'" '+(c==e?"selected":"")+">"+a+"</option>";}else{d+="<li><a "+(c==e?'class="active':"")+">"+a+"</a></li>";}}return d;};$.getYear=function(a,e){var b=new Date().getFullYear(),d="",a=a||"option";for(var c=b;c>1949;c--){if(a=="option"){d+='<option value="'+c+'" '+(c==e?"selected":"")+">"+c+"</option>";}else{d+="<li><a "+(c==e?'class="active':"")+">"+c+"</a></li>";}}return d;};var formalVerify=function(b){var d=true,c=b.find(".input[data-equired]"),e=b.find("select[data-equired]"),a=b.find(".textarea[data-equired]"),f=function(k,j){for(var m=0,h=k.length;m<h;m++){var g=k.eq(m),p=g.val(),n=g.attr("data-reg"),o=g.attr("placeholder");if(!regs[n].test(p)||(p==o)){if(g[0].tagName.toLowerCase()=="select"){g.siblings(".button").addClass("tip-error");}else{g.addClass("tip-error");}d=false;}else{if(g[0].tagName.toLowerCase()=="select"){g.siblings(".button").removeClass("tip-error");}else{g.removeClass("tip-error");}}}};f(c);f(e);f(a);return d;};(function(a,b){a("[placeholder]").each(function(){var d=a(this),c=d.attr("placeholder");if(!d.val()&&d.attr("data-fixholder")){d.val(c);}});})(jQuery);var regs={isNull:/\S/,email:/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,number:/^\d+$/,price:/^(\d+|\d+.{0,1}\d+)$/};$(function(){$(document).on("focus","[data-fixholder]",function(){var b=$(this),c=b.val(),a=b.attr("placeholder");if(c==a){b.val("");}});$(document).on("blur","[data-fixholder]",function(){var b=$(this),c=b.val(),a=b.attr("placeholder");if(c==""&&!b.hasClass("data-fixholder")){b.val(a);}});$(document).on("click","[data-toggle]",function(b){b=b||window.event;var a=$(this);if(a.closest(".drop-select").attr("disabled")){return false;}$(".button.open").removeClass("open").siblings(".drop-box").hide();a.toggleClass("open").siblings(".drop-box").toggle();if(b.stopPropagation){b.stopPropagation();}else{b.cancelBubble=true;}});$(document).on("click",document,function(c){var b=function(e,d){e.each(function(){$(this).removeClass(d).siblings(".drop-box").hide();});};var a=$(".button.open");if(a.length){b(a,"open");}});$(document).on("click",".drop-down li",function(){var g=$(this),f=g.index(),i=g.text(),a=g.parent().parent().siblings("button"),d=g.closest(".drop-box").siblings(".button"),h=g.closest(".saved");if(h.length){var e=a.text();if(e!=i){h.removeClass("saved").find(".JS_save_someone").show().end().find(".disabled").hide();}}if(f!=0){d.removeClass("tip-error");}var c=g.closest("td").find(".nowMonth"),b=c.closest(".drop-select");if(g.hasClass("now")){c.show().click();b.attr("disabled",true);}else{if(b.attr("disabled")){c.hide();b.removeAttr("disabled").find("li:first").click();}}g.find("a").addClass("active").end().siblings().find("a").removeClass("active");a.html(i+'<i class="i-barr"></i>').siblings("select").find("option").eq(f).prop("selected",true);});$(document).on("keyup","input[data-ajax]",function(){var a=$(this),b=a.val();if(!b){a.siblings(".drop-box").hide();$('div[data-caller="'+a.attr("data-call")+'"]').remove();return;}a.siblings(".drop-box").show();});$(document).on("click",".drop-ajaxdown li",function(){var b=$(this),d=b.text(),a=b.parent().parent().hide().siblings("input[data-ajax]"),c=a.offset();a.val(d);var e=$('<div class="error" data-caller="'+a.attr("data-call")+'">输入无效城市!</div>');e.css({top:c.top-10+"px",left:c.left+"px"});$("body").append(e);});$(document).on("keyup","textarea[data-lengthlimit]",function(){var c=$(this),d=c.val(),b=d.length,a=parseInt(c.attr("data-lengthlimit"))||100,e=c.siblings(".limit-count").find("span").eq(0);if(b>=a){c.val(d.substring(0,a));e.text("0");}else{e.text(a-b);}if(d.length>0){e.css("color","red");}else{e.css("color","#999");}});$(document).on("keyup","textarea[data-lenlimit]",function(){var c=$(this),d=c.val(),b=d.length,a=parseInt(c.attr("data-lenlimit"))||100;if(b&&b<=a){c.removeClass("tip-error");}});$(document).on("blur","[data-equired]",function(){var b=$(this),a=b.attr("data-reg"),d=$.trim(b.val()),c=b.attr("placeholder");if(!regs[a].test(d)||(d==c)){b.addClass("tip-error");}else{b.removeClass("tip-error");}});$(document).on("blur","[data-notequired]",function(){var b=$(this),a=b.attr("data-reg"),d=$.trim(b.val()),c=b.attr("placeholder");if((d&&!regs[a].test(d))||(d==c)){b.addClass("tip-error");}else{b.removeClass("tip-error");}});});